{"version":3,"file":"js/52.643be11e.js","mappings":"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","sources":["webpack://humanometro/./src/views/PreguntasView.vue","webpack://humanometro/./src/views/PreguntasView.vue?bbbc"],"sourcesContent":["<template>\r\n  <section>\r\n    <Toaster />\r\n    <form @submit.prevent=\"saveProfile\">\r\n      <div v-if=\"marcadorPregunta==1\">\r\n        <h2>Pregunta 1</h2>\r\n        <p>En una escala d el 1 al 10, ¬øqu√© tan importante es para ti ayudar a los dem√°s?</p>\r\n        <input type=\"range\" min=\"1\" max=\"10\" v-model=\"respuestas.impAyudar\">\r\n        <button @click=\"marcadorPregunta++\">Siguiente</button>\r\n      </div>\r\n      <div v-if=\"marcadorPregunta==2\">\r\n        <h2>Pregunta 2</h2>\r\n        <p>Menciona 3 acciones que hayas realizado recientemente para ayudar a alguien:</p>\r\n        <input type=\"text\" placeholder=\"Accion 1\" v-model=\"respuestas.accionesRecientes.accion1\">\r\n        <input type=\"text\" placeholder=\"Accion 2\" v-model=\"respuestas.accionesRecientes.accion2\">\r\n        <input type=\"text\" placeholder=\"Accion 3\" v-model=\"respuestas.accionesRecientes.accion3\">\r\n        <button @click=\"marcadorPregunta++\">Siguiente</button>\r\n      </div>\r\n      <div v-if=\"marcadorPregunta==3\">\r\n        <h2>Pregunta 3</h2>\r\n        <p>Describe una situaci√≥n en la que hayas puesto las necesidades de alguien m√°s por encima de las tuyas.</p>\r\n        <input type=\"text\" placeholder=\"Situaci√≥n altruista\" v-model=\"respuestas.sitAltru\">\r\n        <button @click=\"marcadorPregunta++\">Siguiente</button>\r\n      </div>\r\n      <div v-if=\"marcadorPregunta==4\">\r\n        <h2>Pregunta 4</h2>\r\n        <p>Qu√© significa para ti ser buena persona.</p>\r\n        <input type=\"text\" placeholder=\"Siginificado de bondad\" v-model=\"respuestas.sigBon\">\r\n        <button @click=\"marcadorPregunta++\">Siguiente</button>\r\n      </div>\r\n      <div v-if=\"marcadorPregunta==5\">\r\n        <h2>Pregunta 5</h2>\r\n        <p>¬øCrees que es importante ser honesto incluso cuando es dificil?</p>\r\n        <select v-model=\"respuestas.honestidad\">\r\n          <option value=\"si\">Si</option>\r\n          <option value=\"no\">No</option>\r\n        </select>\r\n        <button type=\"submit\">Finalizar</button>\r\n      </div>\r\n    </form>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport {auth, db} from \"@/db/firebase\"\r\nimport {doc, setDoc, getDoc} from \"firebase/firestore\"\r\nimport {Toaster, toast} from \"vue-sonner\"\r\nexport default {\r\n  name: 'PreguntasView',\r\n  components:{\r\n    Toaster\r\n  },\r\n  data(){\r\n    return{\r\n      marcadorPregunta: 1,\r\n      respuestas: {\r\n        impAyudar: 1,\r\n        accionesRecientes:{\r\n          accion1: '',\r\n          accion2: '',\r\n          accion3: ''\r\n        },\r\n        sitAltru: '',\r\n        sigBon: '',\r\n        honestidad: ''\r\n      },\r\n      user:{\r\n        user: null\r\n      },\r\n      perfil:{}\r\n    }\r\n  },\r\n  methods:{\r\n    getAccionesRecientes(){\r\n      return this.respuestas.accionesRecientes.accion1 == '' || this.respuestas.accionesRecientes.accion2 == '' || this.respuestas.accionesRecientes.accion3 == ''\r\n    },\r\n    getAltruismo(){\r\n      return this.respuestas.sitAltru.includes(\"Ayudar\") && this.respuestas.sigBon.includes(\"Ayudar\")\r\n    },\r\n    humanometro(){\r\n      let fechaCompleta = new Date()\r\n      let fecha = `${fechaCompleta.getDate()}/${fechaCompleta.getMonth()+1}/${fechaCompleta.getFullYear()}`\r\n      if (this.respuestas.impAyudar >= 7 && !this.getAccionesRecientes() &&  this.getAltruismo() && this.respuestas.honestidad==\"si\"){\r\n        let diagnostico = {\r\n          diagnostico: 'Eres buena persona',\r\n          fecha: fecha\r\n        }\r\n        this.perfil.diagnosticos.push(diagnostico)\r\n      }else{\r\n        let diagnostico = {\r\n          diagnostico: 'Podr√≠as mejorar en algunos aspectos',\r\n          fecha: fecha\r\n        }\r\n        this.perfil.diagnosticos.push(diagnostico)\r\n      }\r\n\r\n    },\r\n    async saveProfile(){\r\n        if(!this.user)return\r\n        try {\r\n          this.humanometro()\r\n          const docRef = doc(db, \"humans\", this.user.uid)\r\n          console.log(this.perfil)   \r\n          await setDoc(docRef, this.perfil) \r\n          toast.success('Formulario completado correctamente üòç')\r\n        } catch (error) {\r\n          toast.error('Hubo un problema al guardar el perfil ü§∑‚Äç‚ôÄÔ∏è')\r\n        }\r\n    },\r\n    async fetchProfile(){\r\n        if(!this.user)return\r\n        try {\r\n          const docRef = doc(db, \"humans\", this.user.uid)\r\n          const docSnap = await getDoc(docRef)\r\n          if(docSnap.exists()){\r\n            this.perfil = {...docSnap.data()}\r\n          }else{\r\n            toast.error('No se encontr√≥ el perfil ü§∑‚Äç‚ôÇÔ∏è')\r\n          }\r\n        } catch (error) {\r\n          toast.error('Error al obtener el perfil ü§∑‚Äç‚ôÇÔ∏è')\r\n        }\r\n      },\r\n  },\r\n  mounted(){\r\n    this.user = auth.currentUser\r\n    this.fetchProfile()\r\n    this.marcadorPregunta = 1\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PreguntasView.vue?vue&type=template&id=198631b4\"\nimport script from \"./PreguntasView.vue?vue&type=script&lang=js\"\nexport * from \"./PreguntasView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","_createElementBlock","_createVNode","_component_Toaster","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","saveProfile","$data","marcadorPregunta","_hoisted_1","type","min","max","$event","respuestas","impAyudar","onClick","_createCommentVNode","_hoisted_2","placeholder","accionesRecientes","accion1","accion2","accion3","_hoisted_3","sitAltru","_hoisted_4","sigBon","_hoisted_5","honestidad","value","name","components","Toaster","data","user","perfil","methods","getAccionesRecientes","this","getAltruismo","includes","humanometro","fechaCompleta","Date","fecha","getDate","getMonth","getFullYear","diagnostico","diagnosticos","push","docRef","doc","db","uid","console","log","setDoc","toast","success","error","fetchProfile","docSnap","getDoc","exists","mounted","auth","currentUser","__exports__","render"],"sourceRoot":""}